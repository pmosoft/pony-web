{"remainingRequest":"D:\\fframe\\workspace\\pony-web\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!D:\\fframe\\workspace\\pony-web\\node_modules\\ag-grid-community\\dist\\lib\\filter\\numberFilter.js","dependencies":[{"path":"D:\\fframe\\workspace\\pony-web\\node_modules\\ag-grid-community\\dist\\lib\\filter\\numberFilter.js","mtime":499162500000},{"path":"D:\\fframe\\workspace\\pony-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1527391761479},{"path":"D:\\fframe\\workspace\\pony-web\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1527226929000}],"contextDependencies":[],"result":["/**\n * ag-grid-community - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v19.1.4\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n\"use strict\";\nvar __extends = /*@__PURE__*/ require(\"tslib\").__extends;\nvar __decorate = /*@__PURE__*/ require(\"tslib\").__decorate;\nvar __metadata = /*@__PURE__*/ require(\"tslib\").__metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../utils\");\nvar componentAnnotations_1 = require(\"../widgets/componentAnnotations\");\nvar baseFilter_1 = require(\"./baseFilter\");\nvar NumberFilter = /*@__PURE__*/ (function (_super) {\n    __extends(NumberFilter, _super);\n    function NumberFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NumberFilter.prototype.modelFromFloatingFilter = function (from) {\n        return {\n            type: this.filter,\n            filter: Number(from),\n            filterTo: this.filterNumberTo,\n            filterType: 'number'\n        };\n    };\n    NumberFilter.prototype.getApplicableFilterTypes = function () {\n        return [baseFilter_1.BaseFilter.EQUALS, baseFilter_1.BaseFilter.NOT_EQUAL, baseFilter_1.BaseFilter.LESS_THAN, baseFilter_1.BaseFilter.LESS_THAN_OR_EQUAL,\n            baseFilter_1.BaseFilter.GREATER_THAN, baseFilter_1.BaseFilter.GREATER_THAN_OR_EQUAL, baseFilter_1.BaseFilter.IN_RANGE];\n    };\n    NumberFilter.prototype.bodyTemplate = function (type) {\n        var translate = this.translate.bind(this);\n        var fieldId = type == baseFilter_1.FilterConditionType.MAIN ? \"filterText\" : \"filterConditionText\";\n        var filterNumberToPanelId = type == baseFilter_1.FilterConditionType.MAIN ? \"filterNumberToPanel\" : \"filterNumberToPanelCondition\";\n        var fieldToId = type == baseFilter_1.FilterConditionType.MAIN ? \"filterToText\" : \"filterToConditionText\";\n        return \"<div class=\\\"ag-filter-body\\\">\\n            <div>\\n                <input class=\\\"ag-filter-filter\\\" id=\\\"\" + fieldId + \"\\\" type=\\\"text\\\" placeholder=\\\"\" + translate('filterOoo') + \"\\\"/>\\n            </div>\\n             <div class=\\\"ag-filter-number-to\\\" id=\\\"\" + filterNumberToPanelId + \"\\\">\\n                <input class=\\\"ag-filter-filter\\\" id=\\\"\" + fieldToId + \"\\\" type=\\\"text\\\" placeholder=\\\"\" + translate('filterOoo') + \"\\\"/>\\n            </div>\\n        </div>\";\n    };\n    NumberFilter.prototype.initialiseFilterBodyUi = function (type) {\n        _super.prototype.initialiseFilterBodyUi.call(this, type);\n        if (type === baseFilter_1.FilterConditionType.MAIN) {\n            this.eFilterTextField = this.queryForHtmlInputElement(\"#filterText\");\n            this.addFilterChangedEventListeners(type, this.eFilterTextField, this.eFilterToTextField);\n        }\n        else {\n            this.eFilterTextConditionField = this.queryForHtmlInputElement(\"#filterConditionText\");\n            this.addFilterChangedEventListeners(type, this.eFilterTextConditionField, this.eFilterToConditionText);\n            this.setFilter(this.filterNumberCondition, baseFilter_1.FilterConditionType.CONDITION);\n            this.setFilterTo(this.filterNumberConditionTo, baseFilter_1.FilterConditionType.CONDITION);\n            this.setFilterType(this.filterCondition, baseFilter_1.FilterConditionType.CONDITION);\n        }\n    };\n    NumberFilter.prototype.addFilterChangedEventListeners = function (type, filterElement, filterToElement) {\n        var _this = this;\n        var debounceMs = this.getDebounceMs(this.filterParams);\n        var toDebounce = utils_1.Utils.debounce(function () { return _this.onTextFieldsChanged(type, filterElement, filterToElement); }, debounceMs);\n        this.addDestroyableEventListener(filterElement, \"input\", toDebounce);\n        this.addDestroyableEventListener(filterToElement, \"input\", toDebounce);\n    };\n    NumberFilter.prototype.afterGuiAttached = function () {\n        this.eFilterTextField.focus();\n    };\n    NumberFilter.prototype.comparator = function () {\n        return function (left, right) {\n            if (left === right) {\n                return 0;\n            }\n            if (left < right) {\n                return 1;\n            }\n            if (left > right) {\n                return -1;\n            }\n        };\n    };\n    NumberFilter.prototype.onTextFieldsChanged = function (type, filterElement, filterToElement) {\n        var newFilter = this.stringToFloat(filterElement.value);\n        var newFilterTo = this.stringToFloat(filterToElement.value);\n        if (type === baseFilter_1.FilterConditionType.MAIN) {\n            if (this.filterNumber !== newFilter || this.filterNumberTo !== newFilterTo) {\n                this.filterNumber = newFilter;\n                this.filterNumberTo = newFilterTo;\n                this.onFilterChanged();\n            }\n        }\n        else {\n            if (this.filterNumberCondition !== newFilter || this.filterNumberConditionTo !== newFilterTo) {\n                this.filterNumberCondition = newFilter;\n                this.filterNumberConditionTo = newFilterTo;\n                this.onFilterChanged();\n            }\n        }\n    };\n    NumberFilter.prototype.filterValues = function (type) {\n        if (type === baseFilter_1.FilterConditionType.MAIN) {\n            return this.filter !== baseFilter_1.BaseFilter.IN_RANGE ?\n                this.asNumber(this.filterNumber) :\n                [this.asNumber(this.filterNumber), this.asNumber(this.filterNumberTo)];\n        }\n        return this.filterCondition !== baseFilter_1.BaseFilter.IN_RANGE ?\n            this.asNumber(this.filterNumberCondition) :\n            [this.asNumber(this.filterNumberCondition), this.asNumber(this.filterNumberConditionTo)];\n    };\n    NumberFilter.prototype.asNumber = function (value) {\n        return utils_1.Utils.isNumeric(value) ? value : null;\n    };\n    NumberFilter.prototype.stringToFloat = function (value) {\n        var filterText = utils_1.Utils.makeNull(value);\n        if (filterText && filterText.trim() === '') {\n            filterText = null;\n        }\n        var newFilter;\n        if (filterText !== null && filterText !== undefined) {\n            newFilter = parseFloat(filterText);\n        }\n        else {\n            newFilter = null;\n        }\n        return newFilter;\n    };\n    NumberFilter.prototype.setFilter = function (filter, type) {\n        filter = utils_1.Utils.makeNull(filter);\n        if (filter !== null && !(typeof filter === 'number')) {\n            filter = parseFloat(filter);\n        }\n        if (type === baseFilter_1.FilterConditionType.MAIN) {\n            this.filterNumber = filter;\n            if (!this.eFilterTextField)\n                return;\n            this.eFilterTextField.value = filter;\n        }\n        else {\n            this.filterNumberCondition = filter;\n            if (!this.eFilterTextConditionField)\n                return;\n            this.eFilterTextConditionField.value = filter;\n        }\n    };\n    NumberFilter.prototype.setFilterTo = function (filter, type) {\n        filter = utils_1.Utils.makeNull(filter);\n        if (filter !== null && !(typeof filter === 'number')) {\n            filter = parseFloat(filter);\n        }\n        if (type === baseFilter_1.FilterConditionType.MAIN) {\n            this.filterNumberTo = filter;\n            if (!this.eFilterToTextField)\n                return;\n            this.eFilterToTextField.value = filter;\n        }\n        else {\n            this.filterNumberConditionTo = filter;\n            if (!this.eFilterToConditionText)\n                return;\n            this.eFilterToConditionText.value = filter;\n        }\n    };\n    NumberFilter.prototype.getFilter = function (type) {\n        return type === baseFilter_1.FilterConditionType.MAIN ? this.filterNumber : this.filterNumberCondition;\n    };\n    NumberFilter.prototype.serialize = function (type) {\n        var filter = type === baseFilter_1.FilterConditionType.MAIN ? this.filter : this.filterCondition;\n        var filterNumber = type === baseFilter_1.FilterConditionType.MAIN ? this.filterNumber : this.filterNumberCondition;\n        var filterNumberTo = type === baseFilter_1.FilterConditionType.MAIN ? this.filterNumberTo : this.filterNumberConditionTo;\n        return {\n            type: filter ? filter : this.defaultFilter,\n            filter: filterNumber,\n            filterTo: filterNumberTo,\n            filterType: 'number'\n        };\n    };\n    NumberFilter.prototype.parse = function (model, type) {\n        this.setFilterType(model.type, type);\n        this.setFilter(model.filter, type);\n        this.setFilterTo(model.filterTo, type);\n    };\n    NumberFilter.prototype.refreshFilterBodyUi = function (type) {\n        var filterType = type === baseFilter_1.FilterConditionType.MAIN ? this.filter : this.filterCondition;\n        var panel = type === baseFilter_1.FilterConditionType.MAIN ? this.eNumberToPanel : this.eNumberToConditionPanel;\n        if (!panel)\n            return;\n        var visible = filterType === NumberFilter.IN_RANGE;\n        utils_1.Utils.setVisible(panel, visible);\n    };\n    NumberFilter.prototype.resetState = function () {\n        this.setFilterType(this.defaultFilter, baseFilter_1.FilterConditionType.MAIN);\n        this.setFilter(null, baseFilter_1.FilterConditionType.MAIN);\n        this.setFilterTo(null, baseFilter_1.FilterConditionType.MAIN);\n        this.setFilterType(this.defaultFilter, baseFilter_1.FilterConditionType.CONDITION);\n        this.setFilter(null, baseFilter_1.FilterConditionType.CONDITION);\n        this.setFilterTo(null, baseFilter_1.FilterConditionType.CONDITION);\n    };\n    NumberFilter.prototype.setType = function (filterType, type) {\n        this.setFilterType(filterType, type);\n    };\n    NumberFilter.LESS_THAN = 'lessThan'; //3;\n    __decorate([\n        componentAnnotations_1.QuerySelector('#filterNumberToPanel'),\n        __metadata(\"design:type\", HTMLElement)\n    ], NumberFilter.prototype, \"eNumberToPanel\", void 0);\n    __decorate([\n        componentAnnotations_1.QuerySelector('#filterNumberToPanelCondition'),\n        __metadata(\"design:type\", HTMLElement)\n    ], NumberFilter.prototype, \"eNumberToConditionPanel\", void 0);\n    __decorate([\n        componentAnnotations_1.QuerySelector('#filterToText'),\n        __metadata(\"design:type\", HTMLInputElement)\n    ], NumberFilter.prototype, \"eFilterToTextField\", void 0);\n    __decorate([\n        componentAnnotations_1.QuerySelector('#filterToConditionText'),\n        __metadata(\"design:type\", HTMLInputElement)\n    ], NumberFilter.prototype, \"eFilterToConditionText\", void 0);\n    return NumberFilter;\n}(baseFilter_1.ScalarBaseFilter));\nexports.NumberFilter = NumberFilter;\n",null]}