{"remainingRequest":"D:\\fframe\\workspace\\pony-web\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!D:\\fframe\\workspace\\pony-web\\node_modules\\ag-grid-community\\dist\\lib\\filter\\textFilter.js","dependencies":[{"path":"D:\\fframe\\workspace\\pony-web\\node_modules\\ag-grid-community\\dist\\lib\\filter\\textFilter.js","mtime":1566387980000},{"path":"D:\\fframe\\workspace\\pony-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1566388048000},{"path":"D:\\fframe\\workspace\\pony-web\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1566387884000}],"contextDependencies":[],"result":["/**\n * ag-grid-community - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v19.1.4\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n\"use strict\";\nvar __extends = /*@__PURE__*/ require(\"tslib\").__extends;\nvar __decorate = /*@__PURE__*/ require(\"tslib\").__decorate;\nvar __metadata = /*@__PURE__*/ require(\"tslib\").__metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../utils\");\nvar baseFilter_1 = require(\"./baseFilter\");\nvar componentAnnotations_1 = require(\"../widgets/componentAnnotations\");\nvar TextFilter = /*@__PURE__*/ (function (_super) {\n    __extends(TextFilter, _super);\n    function TextFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TextFilter.prototype.getDefaultType = function () {\n        return baseFilter_1.BaseFilter.CONTAINS;\n    };\n    TextFilter.prototype.customInit = function () {\n        this.comparator = this.filterParams.textCustomComparator ? this.filterParams.textCustomComparator : TextFilter.DEFAULT_COMPARATOR;\n        this.formatter =\n            this.filterParams.textFormatter ? this.filterParams.textFormatter :\n                this.filterParams.caseSensitive == true ? TextFilter.DEFAULT_FORMATTER :\n                    TextFilter.DEFAULT_LOWERCASE_FORMATTER;\n        _super.prototype.customInit.call(this);\n    };\n    TextFilter.prototype.modelFromFloatingFilter = function (from) {\n        return {\n            type: this.filter,\n            filter: from,\n            filterType: 'text'\n        };\n    };\n    TextFilter.prototype.getApplicableFilterTypes = function () {\n        return [baseFilter_1.BaseFilter.EQUALS, baseFilter_1.BaseFilter.NOT_EQUAL, baseFilter_1.BaseFilter.STARTS_WITH, baseFilter_1.BaseFilter.ENDS_WITH,\n            baseFilter_1.BaseFilter.CONTAINS, baseFilter_1.BaseFilter.NOT_CONTAINS];\n    };\n    TextFilter.prototype.bodyTemplate = function (type) {\n        var translate = this.translate.bind(this);\n        var fieldId = type == baseFilter_1.FilterConditionType.MAIN ? \"filterText\" : \"filterConditionText\";\n        return \"<div class=\\\"ag-filter-body\\\">\\n            <input class=\\\"ag-filter-filter\\\" id=\" + fieldId + \" type=\\\"text\\\" placeholder=\\\"\" + translate('filterOoo', 'Filter...') + \"\\\"/>\\n        </div>\";\n    };\n    TextFilter.prototype.initialiseFilterBodyUi = function (type) {\n        _super.prototype.initialiseFilterBodyUi.call(this, type);\n        this.addFilterChangedListener(type);\n        this.setFilter(this.filterConditionText, baseFilter_1.FilterConditionType.CONDITION);\n        this.setFilterType(this.filterCondition, baseFilter_1.FilterConditionType.CONDITION);\n    };\n    TextFilter.prototype.addFilterChangedListener = function (type) {\n        var _this = this;\n        var eElement = type === baseFilter_1.FilterConditionType.MAIN ? this.eFilterTextField : this.eFilterConditionTextField;\n        var debounceMs = this.getDebounceMs(this.filterParams);\n        var toDebounce = utils_1.Utils.debounce(function () { return _this.onFilterTextFieldChanged(type); }, debounceMs);\n        this.addDestroyableEventListener(eElement, 'input', toDebounce);\n    };\n    TextFilter.prototype.refreshFilterBodyUi = function (type) {\n        if (this.eFilterConditionTextField) {\n            this.addFilterChangedListener(baseFilter_1.FilterConditionType.CONDITION);\n        }\n    };\n    TextFilter.prototype.afterGuiAttached = function () {\n        this.eFilterTextField.focus();\n    };\n    TextFilter.prototype.filterValues = function (type) {\n        return type === baseFilter_1.FilterConditionType.MAIN ? this.filterText : this.filterConditionText;\n    };\n    TextFilter.prototype.individualFilterPasses = function (params, type) {\n        var filterText = type == baseFilter_1.FilterConditionType.MAIN ? this.filterText : this.filterConditionText;\n        var filter = type == baseFilter_1.FilterConditionType.MAIN ? this.filter : this.filterCondition;\n        if (!filterText) {\n            return type === baseFilter_1.FilterConditionType.MAIN ? true : this.conditionValue === 'AND';\n        }\n        else {\n            return this.checkIndividualFilter(params, filter, filterText);\n        }\n    };\n    TextFilter.prototype.checkIndividualFilter = function (params, filterType, filterText) {\n        var value = this.filterParams.valueGetter(params.node);\n        if (value == null || value === undefined) {\n            return filterType === baseFilter_1.BaseFilter.NOT_EQUAL || filterType === baseFilter_1.BaseFilter.NOT_CONTAINS;\n        }\n        var filterTextFormatted = this.formatter(filterText);\n        var valueFormatted = this.formatter(value);\n        return this.comparator(filterType, valueFormatted, filterTextFormatted);\n    };\n    TextFilter.prototype.onFilterTextFieldChanged = function (type) {\n        var value = type === baseFilter_1.FilterConditionType.MAIN ? this.eFilterTextField.value : this.eFilterConditionTextField.value;\n        var current = type === baseFilter_1.FilterConditionType.MAIN ? this.filterText : this.filterConditionText;\n        var filterText = utils_1.Utils.makeNull(value);\n        if (filterText && filterText.trim() === '') {\n            filterText = null;\n        }\n        if (current !== filterText) {\n            var newLowerCase = filterText && this.filterParams.caseSensitive != true ? filterText.toLowerCase() :\n                filterText;\n            var previousLowerCase = current && this.filterParams.caseSensitive != true ? current.toLowerCase() :\n                current;\n            if (type === baseFilter_1.FilterConditionType.MAIN) {\n                this.filterText = this.formatter(filterText);\n            }\n            else {\n                this.filterConditionText = this.formatter(filterText);\n            }\n            if (previousLowerCase !== newLowerCase) {\n                this.onFilterChanged();\n            }\n        }\n    };\n    TextFilter.prototype.setFilter = function (filter, type) {\n        filter = utils_1.Utils.makeNull(filter);\n        if (type === baseFilter_1.FilterConditionType.MAIN) {\n            if (filter) {\n                this.filterText = this.formatter(filter);\n                if (!this.eFilterTextField)\n                    return;\n                this.eFilterTextField.value = filter;\n            }\n            else {\n                this.filterText = null;\n                if (!this.eFilterTextField)\n                    return;\n                this.eFilterTextField.value = null;\n            }\n        }\n        else {\n            if (filter) {\n                this.filterConditionText = this.formatter(filter);\n                if (!this.eFilterConditionTextField)\n                    return;\n                this.eFilterConditionTextField.value = filter;\n            }\n            else {\n                this.filterConditionText = null;\n                if (!this.eFilterConditionTextField)\n                    return;\n                this.eFilterConditionTextField.value = null;\n            }\n        }\n    };\n    TextFilter.prototype.getFilter = function () {\n        return this.filterText;\n    };\n    TextFilter.prototype.resetState = function () {\n        this.setFilter(null, baseFilter_1.FilterConditionType.MAIN);\n        this.setFilterType(this.defaultFilter, baseFilter_1.FilterConditionType.MAIN);\n        this.setFilter(null, baseFilter_1.FilterConditionType.CONDITION);\n        this.setFilterType(this.defaultFilter, baseFilter_1.FilterConditionType.CONDITION);\n    };\n    TextFilter.prototype.serialize = function (type) {\n        var filter = type === baseFilter_1.FilterConditionType.MAIN ? this.filter : this.filterCondition;\n        var filterText = type === baseFilter_1.FilterConditionType.MAIN ? this.filterText : this.filterConditionText;\n        return {\n            type: filter ? filter : this.defaultFilter,\n            filter: filterText,\n            filterType: 'text'\n        };\n    };\n    TextFilter.prototype.parse = function (model, type) {\n        this.setFilterType(model.type, type);\n        this.setFilter(model.filter, type);\n    };\n    TextFilter.prototype.setType = function (filterType, type) {\n        this.setFilterType(filterType, type);\n    };\n    TextFilter.DEFAULT_FORMATTER = function (from) {\n        return from;\n    };\n    TextFilter.DEFAULT_LOWERCASE_FORMATTER = function (from) {\n        if (from == null) {\n            return null;\n        }\n        return from.toString().toLowerCase();\n    };\n    TextFilter.DEFAULT_COMPARATOR = function (filter, value, filterText) {\n        switch (filter) {\n            case TextFilter.CONTAINS:\n                return value.indexOf(filterText) >= 0;\n            case TextFilter.NOT_CONTAINS:\n                return value.indexOf(filterText) === -1;\n            case TextFilter.EQUALS:\n                return value === filterText;\n            case TextFilter.NOT_EQUAL:\n                return value != filterText;\n            case TextFilter.STARTS_WITH:\n                return value.indexOf(filterText) === 0;\n            case TextFilter.ENDS_WITH:\n                var index = value.lastIndexOf(filterText);\n                return index >= 0 && index === (value.length - filterText.length);\n            default:\n                // should never happen\n                console.warn('invalid filter type ' + filter);\n                return false;\n        }\n    };\n    __decorate([\n        componentAnnotations_1.QuerySelector('#filterText'),\n        __metadata(\"design:type\", HTMLInputElement)\n    ], TextFilter.prototype, \"eFilterTextField\", void 0);\n    __decorate([\n        componentAnnotations_1.QuerySelector('#filterConditionText'),\n        __metadata(\"design:type\", HTMLInputElement)\n    ], TextFilter.prototype, \"eFilterConditionTextField\", void 0);\n    return TextFilter;\n}(baseFilter_1.ComparableBaseFilter));\nexports.TextFilter = TextFilter;\n",null]}