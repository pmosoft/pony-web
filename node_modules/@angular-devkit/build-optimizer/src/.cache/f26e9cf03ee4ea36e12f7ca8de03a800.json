{"remainingRequest":"D:\\fframe\\workspace\\pony-web\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!D:\\fframe\\workspace\\pony-web\\node_modules\\ag-grid-community\\dist\\lib\\headerRendering\\headerRootComp.js","dependencies":[{"path":"D:\\fframe\\workspace\\pony-web\\node_modules\\ag-grid-community\\dist\\lib\\headerRendering\\headerRootComp.js","mtime":1566387899267},{"path":"D:\\fframe\\workspace\\pony-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1566388048828},{"path":"D:\\fframe\\workspace\\pony-web\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1566387884895}],"contextDependencies":[],"result":["/**\n * ag-grid-community - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v19.1.4\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n\"use strict\";\nvar __extends = /*@__PURE__*/ require(\"tslib\").__extends;\nvar __decorate = /*@__PURE__*/ require(\"tslib\").__decorate;\nvar __metadata = /*@__PURE__*/ require(\"tslib\").__metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar gridOptionsWrapper_1 = require(\"../gridOptionsWrapper\");\nvar columnController_1 = require(\"../columnController/columnController\");\nvar column_1 = require(\"../entities/column\");\nvar context_1 = require(\"../context/context\");\nvar headerContainer_1 = require(\"./headerContainer\");\nvar eventService_1 = require(\"../eventService\");\nvar events_1 = require(\"../events\");\nvar scrollVisibleService_1 = require(\"../gridPanel/scrollVisibleService\");\nvar component_1 = require(\"../widgets/component\");\nvar componentAnnotations_1 = require(\"../widgets/componentAnnotations\");\nvar utils_1 = require(\"../utils\");\nvar gridApi_1 = require(\"../gridApi\");\nvar autoWidthCalculator_1 = require(\"../rendering/autoWidthCalculator\");\nvar constants_1 = require(\"../constants\");\nvar HeaderRootComp = /*@__PURE__*/ (function (_super) {\n    __extends(HeaderRootComp, _super);\n    function HeaderRootComp() {\n        return _super.call(this, HeaderRootComp.TEMPLATE) || this;\n    }\n    HeaderRootComp.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n        this.centerContainer.registerGridComp(gridPanel);\n        this.pinnedLeftContainer.registerGridComp(gridPanel);\n        this.pinnedRightContainer.registerGridComp(gridPanel);\n    };\n    HeaderRootComp.prototype.postConstruct = function () {\n        var _this = this;\n        this.printLayout = this.gridOptionsWrapper.getDomLayout() === constants_1.Constants.DOM_LAYOUT_PRINT;\n        this.gridApi.registerHeaderRootComp(this);\n        this.autoWidthCalculator.registerHeaderRootComp(this);\n        this.centerContainer = new headerContainer_1.HeaderContainer(this.eHeaderContainer, this.eHeaderViewport, null);\n        this.childContainers = [this.centerContainer];\n        this.pinnedLeftContainer = new headerContainer_1.HeaderContainer(this.ePinnedLeftHeader, null, column_1.Column.PINNED_LEFT);\n        this.pinnedRightContainer = new headerContainer_1.HeaderContainer(this.ePinnedRightHeader, null, column_1.Column.PINNED_RIGHT);\n        this.childContainers.push(this.pinnedLeftContainer);\n        this.childContainers.push(this.pinnedRightContainer);\n        this.childContainers.forEach(function (container) { return _this.context.wireBean(container); });\n        // shotgun way to get labels to change, eg from sum(amount) to avg(amount)\n        this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_VALUE_CHANGED, this.refreshHeader.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, gridOptionsWrapper_1.GridOptionsWrapper.PROP_DOM_LAYOUT, this.onDomLayoutChanged.bind(this));\n        // for setting ag-pivot-on / ag-pivot-off CSS classes\n        this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED, this.onPivotModeChanged.bind(this));\n        this.onPivotModeChanged();\n        this.addPreventHeaderScroll();\n        if (this.columnController.isReady()) {\n            this.refreshHeader();\n        }\n    };\n    HeaderRootComp.prototype.onDomLayoutChanged = function () {\n        var newValue = this.gridOptionsWrapper.getDomLayout() === constants_1.Constants.DOM_LAYOUT_PRINT;\n        if (this.printLayout !== newValue) {\n            this.printLayout = newValue;\n            this.refreshHeader();\n        }\n    };\n    HeaderRootComp.prototype.setHorizontalScroll = function (offset) {\n        this.eHeaderContainer.style.left = offset + 'px';\n    };\n    HeaderRootComp.prototype.forEachHeaderElement = function (callback) {\n        this.childContainers.forEach(function (childContainer) { return childContainer.forEachHeaderElement(callback); });\n    };\n    HeaderRootComp.prototype.destroy = function () {\n        this.childContainers.forEach(function (container) { return container.destroy(); });\n    };\n    HeaderRootComp.prototype.refreshHeader = function () {\n        this.childContainers.forEach(function (container) { return container.refresh(); });\n    };\n    HeaderRootComp.prototype.onPivotModeChanged = function () {\n        var pivotMode = this.columnController.isPivotMode();\n        utils_1.Utils.addOrRemoveCssClass(this.getGui(), 'ag-pivot-on', pivotMode);\n        utils_1.Utils.addOrRemoveCssClass(this.getGui(), 'ag-pivot-off', !pivotMode);\n    };\n    HeaderRootComp.prototype.setHeight = function (height) {\n        this.getGui().style.height = height + 'px';\n        this.getGui().style.minHeight = height + 'px';\n    };\n    // if the user is in floating filter and hits tab a few times, the header can\n    // end up scrolling to show items off the screen, leaving the grid and header\n    // and the grid columns no longer in sync.\n    HeaderRootComp.prototype.addPreventHeaderScroll = function () {\n        var _this = this;\n        this.addDestroyableEventListener(this.eHeaderViewport, 'scroll', function () {\n            // if the header scrolls, the header will be out of sync. so we reset the\n            // header scroll, and then scroll the body, which will in turn set the offset\n            // on the header, giving the impression that the header scrolled as expected.\n            var scrollLeft = _this.eHeaderViewport.scrollLeft;\n            if (scrollLeft !== 0) {\n                _this.gridPanel.scrollHorizontally(scrollLeft);\n                _this.eHeaderViewport.scrollLeft = 0;\n            }\n        });\n    };\n    HeaderRootComp.prototype.setLeftVisible = function (visible) {\n        utils_1.Utils.setVisible(this.ePinnedLeftHeader, visible);\n    };\n    HeaderRootComp.prototype.setRightVisible = function (visible) {\n        utils_1.Utils.setVisible(this.ePinnedRightHeader, visible);\n    };\n    HeaderRootComp.TEMPLATE = \"<div class=\\\"ag-header\\\" role=\\\"row\\\">\\n            <div class=\\\"ag-pinned-left-header\\\" ref=\\\"ePinnedLeftHeader\\\" role=\\\"presentation\\\"></div>\\n            <div class=\\\"ag-header-viewport\\\" ref=\\\"eHeaderViewport\\\" role=\\\"presentation\\\">\\n                <div class=\\\"ag-header-container\\\" ref=\\\"eHeaderContainer\\\" role=\\\"presentation\\\"></div>\\n            </div>\\n            <div class=\\\"ag-pinned-right-header\\\" ref=\\\"ePinnedRightHeader\\\" role=\\\"presentation\\\"></div>\\n        </div>\";\n    __decorate([\n        componentAnnotations_1.RefSelector('ePinnedLeftHeader'),\n        __metadata(\"design:type\", HTMLElement)\n    ], HeaderRootComp.prototype, \"ePinnedLeftHeader\", void 0);\n    __decorate([\n        componentAnnotations_1.RefSelector('ePinnedRightHeader'),\n        __metadata(\"design:type\", HTMLElement)\n    ], HeaderRootComp.prototype, \"ePinnedRightHeader\", void 0);\n    __decorate([\n        componentAnnotations_1.RefSelector('eHeaderContainer'),\n        __metadata(\"design:type\", HTMLElement)\n    ], HeaderRootComp.prototype, \"eHeaderContainer\", void 0);\n    __decorate([\n        componentAnnotations_1.RefSelector('eHeaderViewport'),\n        __metadata(\"design:type\", HTMLElement)\n    ], HeaderRootComp.prototype, \"eHeaderViewport\", void 0);\n    __decorate([\n        context_1.Autowired('gridOptionsWrapper'),\n        __metadata(\"design:type\", gridOptionsWrapper_1.GridOptionsWrapper)\n    ], HeaderRootComp.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        context_1.Autowired('columnController'),\n        __metadata(\"design:type\", columnController_1.ColumnController)\n    ], HeaderRootComp.prototype, \"columnController\", void 0);\n    __decorate([\n        context_1.Autowired('context'),\n        __metadata(\"design:type\", context_1.Context)\n    ], HeaderRootComp.prototype, \"context\", void 0);\n    __decorate([\n        context_1.Autowired('eventService'),\n        __metadata(\"design:type\", eventService_1.EventService)\n    ], HeaderRootComp.prototype, \"eventService\", void 0);\n    __decorate([\n        context_1.Autowired('scrollVisibleService'),\n        __metadata(\"design:type\", scrollVisibleService_1.ScrollVisibleService)\n    ], HeaderRootComp.prototype, \"scrollVisibleService\", void 0);\n    __decorate([\n        context_1.Autowired('gridApi'),\n        __metadata(\"design:type\", gridApi_1.GridApi)\n    ], HeaderRootComp.prototype, \"gridApi\", void 0);\n    __decorate([\n        context_1.Autowired('autoWidthCalculator'),\n        __metadata(\"design:type\", autoWidthCalculator_1.AutoWidthCalculator)\n    ], HeaderRootComp.prototype, \"autoWidthCalculator\", void 0);\n    __decorate([\n        context_1.PostConstruct,\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", void 0)\n    ], HeaderRootComp.prototype, \"postConstruct\", null);\n    __decorate([\n        context_1.PreDestroy,\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", void 0)\n    ], HeaderRootComp.prototype, \"destroy\", null);\n    return HeaderRootComp;\n}(component_1.Component));\nexports.HeaderRootComp = HeaderRootComp;\n",null]}